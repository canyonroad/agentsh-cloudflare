name = "agentsh-cloudflare"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Sandbox container configuration
[[containers]]
class_name = "Sandbox"
image = "./Dockerfile"
instance_type = "basic"  # 1/4 vCPU, 1GB RAM, 4GB disk
max_instances = 3

# Durable Objects binding for Sandbox
[[durable_objects.bindings]]
name = "SANDBOX"
class_name = "Sandbox"

# Migration to register Sandbox class
[[migrations]]
tag = "v1"
new_sqlite_classes = ["Sandbox"]

# Environment variables
[vars]
ENVIRONMENT = "development"
